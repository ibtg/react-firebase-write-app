(this["webpackJsonpreact-firebase-write-app"]=this["webpackJsonpreact-firebase-write-app"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports={White:"#fff",Black:"#333",Grey:"#ccc",LightPink:"#f8bdbd",sidebar:"sidebar_sidebar__DMJ16",on:"sidebar_on__2Mm_n",closeContainer:"sidebar_closeContainer__oaqUB",menu:"sidebar_menu__2iKhl",info:"sidebar_info__5aScc",list:"sidebar_list__3K-aD",item:"sidebar_item___QUG-",searchBox:"sidebar_searchBox__RUTES",search:"sidebar_search__T8IhZ",searchInput:"sidebar_searchInput___Dcdl"}},,,,,function(e,t,n){e.exports={White:"#fff",Grey:"#ccc",LightGrey:"#acacac",LightPink:"#f8bdbd",Black:"#333",wrapper:"writingPage_wrapper__1bq-k",container:"writingPage_container__g2h0n",title:"writingPage_title__d5PH6",contentContainer:"writingPage_contentContainer__2ErF3",content:"writingPage_content__1JTxk",center:"writingPage_center__1RMem",writingInfo:"writingPage_writingInfo__1wNy6",date:"writingPage_date__2gzKn",buttonContainer:"writingPage_buttonContainer__1PLSM",username:"writingPage_username__3rNj7",button:"writingPage_button__2F-zF"}},function(e,t,n){e.exports={White:"#fff",Black:"#333",Grey:"#ccc",LightGrey:"#acacac",wrapper:"favoritePage_wrapper__38CiJ",container:"favoritePage_container__3nrAz",title:"favoritePage_title__e_3es",contentContainer:"favoritePage_contentContainer__1SpvG",content:"favoritePage_content__2-2pm",center:"favoritePage_center__3tvMB",writingInfo:"favoritePage_writingInfo__1tNDl",date:"favoritePage_date__qkgbo",buttonContainer:"favoritePage_buttonContainer__XRd0l",button:"favoritePage_button__1mLfT"}},function(e,t,n){e.exports={White:"#fff",Black:"#333",Grey:"#ccc",container:"myWritingPage_container__2xog_",form:"myWritingPage_form__3p8Ud",title:"myWritingPage_title__14DM_",content:"myWritingPage_content__FPVbg",center:"myWritingPage_center__fX7Bu",buttonContainer:"myWritingPage_buttonContainer__2i3aj",textAlignIcon:"myWritingPage_textAlignIcon__1vZcQ",button:"myWritingPage_button__1Iysk"}},function(e,t,n){e.exports={White:"#fff",Grey:"#ccc",Black:"#333",container:"writePage_container__Ozohz",form:"writePage_form__2djrF",title:"writePage_title__2w3rQ",content:"writePage_content__3haiV",center:"writePage_center__2hbZV",buttonContainer:"writePage_buttonContainer__R0NAR",textAlignIcon:"writePage_textAlignIcon__3CHvc",button:"writePage_button__3TWA5"}},function(e,t,n){e.exports={White:"#fff",Black:"#333",LightGrey:"#acacac",LightPink:"#f8bdbd",fadeIn:"styles_fadeIn__1Lrl7",container:"writing_container__2usKo",subject:"writing_subject__1kSru",writing:"writing_writing__2lemG",writingInfo:"writing_writingInfo__eX-BY",writer:"writing_writer__3ZlAN",button:"writing_button__3fqXb",buttonIcon:"writing_buttonIcon__2xOut",write:"writing_write__1kJH-"}},,,function(e,t,n){e.exports={White:"#fff",LightGrey:"#acacac",LightPink:"#f8bdbd",content:"writingList_content__2WqCa",title:"writingList_title__Qsu0i",writing:"writingList_writing__3HzUM",center:"writingList_center__1q7o4",writingInfo:"writingList_writingInfo__1GXSS",writer:"writingList_writer__2jfQe",date:"writingList_date__2nt4A"}},function(e,t,n){e.exports={Black:"#333",LightGrey:"#acacac",LightPink:"#f8bdbd",container:"search_container__20VNE",subject:"search_subject__2nmIV",writing:"search_writing__2qyRL",writingInfo:"search_writingInfo__3Wy2L",writer:"search_writer__3RHPN",button:"search_button__dSJLQ",write:"search_write__1DRLs",noResults:"search_noResults__OTGd6"}},,,function(e,t,n){e.exports={White:"#fff",LightBlack:"#666",DarkGrey:"#dce1e6",login:"login_login__1uVkB",list:"login_list__hRekQ",item:"login_item__WOPvg",button:"login_button__3LzLZ"}},,,,function(e,t,n){e.exports={White:"#fff",Black:"#333",LightGrey:"#acacac",header:"header_header__2t7qo",menu:"header_menu__3ycIB",date:"header_date__cd-y9"}},,,,,,,function(e,t,n){e.exports={White:"#fff",Grey:"#ccc",LightGrey:"#acacac",item:"subject_item__3_w6n",count:"subject_count__99wXo"}},function(e,t,n){e.exports={container:"subjects_container__874Vd",list:"subjects_list__1n_ef"}},function(e,t,n){e.exports={White:"#fff",LightGrey:"#acacac",LightPink:"#f8bdbd",container:"myWriting_container__poWBu",content:"myWriting_content__1SukE",title:"myWriting_title__3MLQv",writing:"myWriting_writing__IxJDP",writer:"myWriting_writer__X8fBG",noWriting:"myWriting_noWriting__2__iH"}},,function(e,t,n){e.exports={container:"favorite_container__3INCU",noWriting:"favorite_noWriting__Avx58"}},,,function(e,t,n){e.exports={app:"App_app__16iff"}},,,,,,,,,,function(e,t,n){e.exports={root:"src_root__1g47g"}},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(3),i=n.n(c),r=n(42),s=n.n(r),o=(n(53),n(43)),u=n.n(o),j=n(6),l=n(25),b=n.n(l),d=function(e){var t=e.authService,n=Object(j.f)(),i=function(){n.push({pathname:"/writing"})},r=function(e){t.login(e.currentTarget.name).then((function(e){return i(e.user.uid)}))};return Object(c.useEffect)((function(){t.onAuthChange((function(e){e&&i(e.uid)}))})),Object(a.jsxs)("section",{className:b.a.login,children:[Object(a.jsx)("h1",{children:"\ub85c\uadf8\uc778"}),Object(a.jsxs)("ul",{className:b.a.list,children:[Object(a.jsx)("li",{className:b.a.item,children:Object(a.jsx)("button",{className:b.a.button,onClick:r,name:"Google",children:"\uad6c\uae00\ub85c \ub85c\uadf8\uc778"})}),Object(a.jsx)("li",{className:b.a.item,children:Object(a.jsx)("button",{className:b.a.button,onClick:r,name:"Github",children:"\uae43\ud5c8\ube0c\ub85c \ub85c\uadf8\uc778"})})]})]})},f=n(10),g=n(7),h=n(29),_=n.n(h),m=n(19),O=n(9),v=n.n(O),p=n(45),x=function(e){var t=e.onClickMenu,n=e.sidebar,i=e.onLogout,r=e.goToSubjects,s=e.goToWriting,o=e.goToMyWriting,u=e.goToFavorite,l=Object(c.useRef)(),b=Object(j.f)();return Object(a.jsxs)("section",{className:n?"".concat(v.a.sidebar," ").concat(v.a.on):v.a.sidebar,children:[Object(a.jsx)("div",{className:v.a.closeContainer,children:Object(a.jsx)(m.c,{className:v.a.menu,onClick:t})}),Object(a.jsxs)("div",{className:v.a.info,children:[Object(a.jsxs)("ul",{className:v.a.list,children:[Object(a.jsx)("li",{className:v.a.item,onClick:s,children:"\uae00\uc4f0\uae30"}),Object(a.jsx)("li",{className:v.a.item,onClick:r,children:"\uae00\uac10"}),Object(a.jsx)("li",{className:v.a.item,onClick:o,children:"\ub098\uc758 \uae00"}),Object(a.jsx)("li",{className:v.a.item,onClick:u,children:"\ubcf4\uad00\ud568"}),Object(a.jsx)("li",{className:v.a.item,onClick:i,children:"\ub85c\uadf8\uc544\uc6c3"})]}),Object(a.jsxs)("div",{className:v.a.searchBox,children:[Object(a.jsx)(p.a,{className:v.a.search}),Object(a.jsx)("form",{onSubmit:function(e){e.preventDefault();var t=l.current.value;""!==t?(l.current.value="",b.push({pathname:"/search",state:{subject:t}})):alert("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")},children:Object(a.jsx)("input",{ref:l,className:v.a.searchInput,type:"text",placeholder:"\ubb34\uc5c7\uc744 \ucc3e\uace0 \uacc4\uc2dc\ub098\uc694?"})})]})]})]})},w=Object(c.memo)((function(e){var t=e.authService,n=Object(c.useState)({}),i=Object(g.a)(n,2),r=i[0],s=i[1],o=Object(c.useState)(!1),u=Object(g.a)(o,2),l=u[0],b=u[1],d=Object(j.f)(),f=Object(c.useRef)(),h=function(){b(!l)};return Object(c.useEffect)((function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,a=e.getDate(),c=e.getHours();s(6<=c&&c<12?{year:t,month:n,day:a,hour:"\uc544\uce68"}:12<=c&&c<18?{year:t,month:n,day:a,hour:"\ub0ae"}:{year:t,month:n,day:a,hour:"\ubc24"})}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("header",{className:_.a.header,ref:f,children:[Object(a.jsx)(m.d,{className:_.a.menu,onClick:h}),Object(a.jsx)("span",{className:_.a.date,children:"".concat(r.year,"\ub144 ").concat(r.month,"\uc6d4 ").concat(r.day,"\uc77c, ").concat(r.hour)})]}),Object(a.jsx)(x,{sidebar:l,onClickMenu:h,onLogout:function(){t.logout()},goToSubjects:function(){d.push({pathname:"/subjects"})},goToWriting:function(){d.push({pathname:"/writing"})},goToMyWriting:function(){d.push({pathname:"/mywriting"})},goToFavorite:function(){d.push({pathname:"/favorite"})}})]})})),N=n(17),y=n.n(N),k=function(e){var t=e.user,n=e.authService,i=e.writingRepository,r=Object(j.f)().location.state,s=r&&r.subject,o=r&&r.subjectId,u=Object(c.useState)(!1),l=Object(g.a)(u,2),b=l[0],d=l[1],f=Object(j.f)(),h=Object(c.useRef)(),_=Object(c.useRef)(),O=function(){d(!b)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{authService:n}),Object(a.jsx)("section",{className:y.a.container,children:Object(a.jsxs)("form",{ref:h,className:y.a.form,children:[Object(a.jsx)("span",{className:y.a.title,children:s}),Object(a.jsx)("textarea",{autoFocus:!0,ref:_,className:b?"".concat(y.a.content," ").concat(y.a.center):"".concat(y.a.content),minLength:"1",placeholder:"\ub2f9\uc2e0\uc758 \uc0dd\uac01\uc744 \ub4e4\ub824\uc8fc\uc138\uc694"}),Object(a.jsxs)("div",{className:y.a.buttonContainer,children:[!0===b?Object(a.jsx)(m.a,{className:y.a.textAlignIcon,onClick:O}):Object(a.jsx)(m.b,{className:y.a.textAlignIcon,onClick:O}),Object(a.jsx)("button",{className:y.a.button,onClick:function(e){if(e.preventDefault(),""!==_.current.value){var n=new Date,a={addDateNow:Date.now(),addDate:"".concat(n.getFullYear(),"\ub144 ").concat(n.getMonth()+1,"\uc6d4 ").concat(n.getDate(),"\uc77c ").concat(n.getHours(),"\uc2dc"),subject:s,writing:_.current.value,username:t.displayName,alignCenter:b};i.saveWriting(t.uid,s,o,a),h.current.reset(),f.push({pathname:"/mywriting"})}else alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694")},children:"\uc791\uc131\ud558\uae30"})]})]})})]})},C=n(36),I=n.n(C),D=function(e){var t=e.subject,n=e.subjectId,c=e.count,i=Object(j.f)();return Object(a.jsxs)("li",{className:I.a.item,onClick:function(e){e.preventDefault(),i.push({pathname:"/search",state:{subject:t,subjectId:n}})},children:[t,Object(a.jsxs)("span",{className:I.a.count,children:[c," \uc500"]})]})},P=n(37),S=n.n(P),W=function(e){var t=e.authService,n=e.writingRepository,i=Object(c.useState)({}),r=Object(g.a)(i,2),s=r[0],o=r[1];return Object(c.useEffect)((function(){var e=n.getSubjects((function(e){o(e)}));return function(){return e()}}),[n]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{authService:t}),Object(a.jsx)("section",{className:S.a.container,children:Object(a.jsx)("ul",{className:S.a.list,children:Object.keys(s).map((function(e){return Object(a.jsx)(D,{subject:e,subjectId:s[e].subjectId,count:Object.keys(s[e].users).length},s[e].subjectId)}))})})]})},T=n(18),L=n.n(T),R=n(46),F=function(e){var t=e.authService,n=e.writingRepository,i=Object(c.useState)({}),r=Object(g.a)(i,2),s=r[0],o=r[1],u=Object(j.f)();return Object(c.useEffect)((function(){var e=n.getWriting((function(e){o(e)}));return function(){return e()}}),[n]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{authService:t}),0!==Object.keys(s).length&&Object(a.jsxs)("section",{className:L.a.container,children:[Object(a.jsx)("h2",{className:L.a.subject,children:s.subject}),Object(a.jsx)("p",{className:L.a.writing,children:s.info.cover.writing}),Object(a.jsxs)("div",{className:L.a.writingInfo,children:[Object(a.jsx)("span",{className:L.a.writer,children:s.info.cover.writer}),Object(a.jsx)("span",{className:L.a.title,children:"<".concat(s.info.cover.title,">")})]}),Object(a.jsxs)("button",{className:L.a.button,children:[Object(a.jsx)(R.a,{className:L.a.buttonIcon}),Object(a.jsx)("span",{className:L.a.buttonText,onClick:function(e){e.preventDefault(),u.push({pathname:"/search",state:{subject:s.subject,subjectId:s.info.subjectId}})},children:"\ub118\uaca8\uc11c \ubcf4\uae30"})]}),Object(a.jsx)("button",{className:L.a.write,onClick:function(e){e.preventDefault(),u.push({pathname:"/writepage",state:{subject:s.subject,subjectId:s.info.subjectId}})},children:"\ub098\uc758 \uae00 \uc4f0\uae30"})]})]})},G=n(38),M=n.n(G),B=n(21),A=n.n(B),E=function(e){var t=e.subject,n=e.subjectId,c=e.writing,i=e.username,r=e.addDate,s=e.alignCenter,o=e.onMove;return Object(a.jsxs)("div",{"data-id":n,"data-align":s,className:A.a.content,onClick:o,children:[Object(a.jsx)("h3",{className:A.a.title,children:t}),Object(a.jsx)("p",{className:s?"".concat(A.a.writing," ").concat(A.a.center):"".concat(A.a.writing),children:c}),Object(a.jsxs)("div",{className:A.a.writingInfo,children:[Object(a.jsx)("span",{className:A.a.writer,children:i}),Object(a.jsx)("span",{className:A.a.date,children:r})]})]})},J=function(e){var t=e.user,n=e.authService,i=e.writingRepository,r=Object(c.useState)([]),s=Object(g.a)(r,2),o=s[0],u=s[1],l=Object(j.f)(),b=function(e){e.preventDefault();var t=e.currentTarget.childNodes,n=t[0].innerText,a=t[1].innerHTML,c=e.currentTarget.dataset.id,i=JSON.parse(e.currentTarget.dataset.align);l.push({pathname:"/mywritingpage",state:{subject:n,subjectId:c,writing:a,alignCenter:i}})};return Object(c.useEffect)((function(){i.getMyWriting(t.uid,(function(e){u(e)}))}),[i,t]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{authService:n}),Object(a.jsx)("div",{className:M.a.container,children:0!==Object.keys(o).length&&(Object.keys(o).includes("no")?Object(a.jsx)("div",{className:M.a.noWriting,children:"\uc791\uc131\ud55c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):Object.keys(o).map((function(e){return Object(a.jsx)(E,{subject:o[e].subject,subjectId:e,writing:o[e].writing,username:o[e].username,addDate:o[e].addDate,alignCenter:o[e].alignCenter,onMove:b},o[e].addDateNow)})))})]})},H=n(22),Q=n.n(H),q=function(e){var t=e.authService,n=e.writingRepository,i=Object(j.f)().location.state,r=i&&i.subject,s=i&&i.subjectId,o=Object(j.f)(),u=Object(c.useState)({}),l=Object(g.a)(u,2),b=l[0],d=l[1],f=function(e){e.preventDefault();var t=e.currentTarget.childNodes[0].innerText,n=e.currentTarget.childNodes[1].innerText,a=e.currentTarget.childNodes[2].childNodes[0].innerText,c=e.currentTarget.childNodes[2].childNodes[1].innerText,i=JSON.parse(e.currentTarget.dataset.align);o.push({pathname:"/writingPage",state:{subject:t,writing:n,username:a,addDate:c,subjectId:s,alignCenter:i}})};return Object(c.useEffect)((function(){var e=n.getSearch(r,(function(e){d(e)}));return function(){return e()}}),[n,r]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{authService:t}),Object(a.jsx)("div",{className:Q.a.container,children:0!==Object.keys(b).length&&(Object.keys(b).includes("no")?Object(a.jsx)("div",{className:Q.a.noResults,children:"\uacb0\uacfc\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{className:Q.a.subject,children:b.subject}),Object(a.jsx)("p",{className:Q.a.writing,children:b.cover.writing}),Object(a.jsxs)("div",{className:Q.a.writingInfo,children:[Object(a.jsx)("span",{className:Q.a.writer,children:b.cover.writer}),Object(a.jsx)("span",{className:Q.a.title,children:"<".concat(b.cover.title,">")})]}),Object(a.jsx)("button",{className:Q.a.write,onClick:function(e){e.preventDefault(),o.push({pathname:"/writepage",state:{subject:r,subjectId:b.subjectId}})},children:"\ub098\uc758 \uae00 \uc4f0\uae30"}),Object.keys(b.users).map((function(e){return Object(a.jsx)(E,{subject:b.users[e].subject,subjectId:b.users[e].subjectId,writing:b.users[e].writing,username:b.users[e].username,addDate:b.users[e].addDate,alignCenter:b.users[e].alignCenter,onMove:f},b.users[e].addDateNow)}))]}))})]})},z=n(14),U=n.n(z),V=function(e){var t=e.user,n=e.authService,c=e.writingRepository,i=Object(j.f)().location.state,r=Object(j.f)(),s=i&&i.subject,o=i&&i.writing,u=i&&i.username,l=i&&i.addDate,b=i&&i.alignCenter;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{authService:n}),Object(a.jsx)("div",{className:U.a.wrapper,children:Object(a.jsxs)("div",{className:U.a.container,children:[Object(a.jsx)("span",{className:U.a.title,children:s}),Object(a.jsxs)("div",{className:U.a.contentContainer,children:[Object(a.jsx)("p",{className:b?"".concat(U.a.content," ").concat(U.a.center):"".concat(U.a.content),children:o}),Object(a.jsxs)("div",{className:U.a.writingInfo,children:[Object(a.jsx)("div",{className:U.a.date,children:l}),Object(a.jsxs)("div",{children:[u,"\uc758 \uae00"]})]})]}),Object(a.jsx)("div",{className:U.a.buttonContainer,children:Object(a.jsx)("button",{className:U.a.button,onClick:function(e){e.preventDefault();var n=Date.now(),a={addDateNow:n,addDate:l,subject:s,username:u,writing:o,alignCenter:b};c.addToFavorite(t.uid,n,a),r.push({pathname:"/favorite"})},children:"\ub2f4\uc544\uac00\uae30"})})]})})]})},X=n(39),K=n.n(X),Z=n(47),Y=n(40),$=n.n(Y),ee=function(e){var t=e.user,n=e.authService,i=e.writingRepository,r=Object(c.useState)({}),s=Object(g.a)(r,2),o=s[0],u=s[1],l=Object(j.f)(),b=function(e){e.preventDefault();var t=e.currentTarget.childNodes[0].innerHTML,n=e.currentTarget.childNodes[1].innerHTML,a=e.currentTarget.childNodes[2].childNodes[0].innerText,c=e.currentTarget.childNodes[2].childNodes[1].innerText,i=e.currentTarget.dataset.id,r=JSON.parse(e.currentTarget.dataset.align);l.push({pathname:"/favoritePage",state:{subject:t,writing:n,username:a,addDate:c,alignCenter:r,subjectId:i}})};return Object(c.useEffect)((function(){var e=i.getFavorite(t.uid,function(){var e=Object(Z.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){return e()}}),[i,t]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{authService:n}),Object(a.jsx)("div",{className:$.a.container,children:0!==Object.keys(o).length&&(Object.keys(o).includes("no")?Object(a.jsx)("div",{className:$.a.noWriting,children:"\ub2f4\uc544\uc628 \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):Object.keys(o).map((function(e){return Object(a.jsx)(E,{subject:o[e].subject,subjectId:e,writing:o[e].writing,username:o[e].username,addDate:o[e].addDate,alignCenter:o[e].alignCenter,onMove:b},o[e].addDateNow)})))})]})},te=n(15),ne=n.n(te),ae=function(e){var t=e.user,n=e.authService,i=e.writingRepository,r=Object(j.f)().location.state,s=Object(j.f)(),o=r&&r.subject,u=r&&r.writing,l=r&&r.username,b=r&&r.addDate,d=r&&r.subjectId,f=r&&r.alignCenter;return Object(c.useEffect)((function(){void 0===r&&s.push({pathname:"/"})}),[s,r]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{authService:n}),Object(a.jsx)("div",{className:ne.a.wrapper,children:Object(a.jsxs)("div",{className:ne.a.container,children:[Object(a.jsx)("span",{className:ne.a.title,children:o}),Object(a.jsxs)("div",{className:ne.a.contentContainer,children:[Object(a.jsx)("p",{className:f?"".concat(ne.a.content," ").concat(ne.a.center):"".concat(ne.a.content),children:u}),Object(a.jsxs)("div",{className:ne.a.writingInfo,children:[Object(a.jsx)("div",{className:ne.a.date,children:b}),Object(a.jsxs)("div",{children:[l,"\uc758 \uae00"]})]})]}),Object(a.jsx)("div",{className:ne.a.buttonContainer,children:Object(a.jsx)("button",{className:ne.a.button,onClick:function(e){e.preventDefault(),i.removeToFavorite(t.uid,d),s.push({pathname:"/favorite"})},children:"\uc0ad\uc81c\ud558\uae30"})})]})})]})},ce=n(16),ie=n.n(ce),re=function(e){var t=e.user,n=e.authService,i=e.writingRepository,r=Object(j.f)().location.state,s=r&&r.subject,o=r&&r.subjectId,u=Object(c.useState)(r?r.writing:""),l=Object(g.a)(u,2),b=l[0],d=l[1],f=Object(j.f)(),h=Object(c.useRef)(),_=Object(c.useRef)(),O=Object(c.useState)(r&&r.alignCenter),v=Object(g.a)(O,2),p=v[0],x=v[1];Object(c.useEffect)((function(){void 0===r&&f.push({pathname:"/"})}),[f,r]);var N=function(){x(!p)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{authService:n}),Object(a.jsx)("section",{className:ie.a.container,children:Object(a.jsxs)("form",{ref:h,className:ie.a.form,children:[Object(a.jsx)("span",{className:ie.a.title,children:s}),Object(a.jsx)("textarea",{autoFocus:!0,ref:_,className:!0===p?"".concat(ie.a.content," ").concat(ie.a.center):"".concat(ie.a.content),minLength:"1",placeholder:"\ub2f9\uc2e0\uc758 \uc0dd\uac01\uc744 \ub4e4\ub824\uc8fc\uc138\uc694",value:b,onChange:function(e){d(e.currentTarget.value)},children:b}),Object(a.jsxs)("div",{className:ie.a.buttonContainer,children:[!0===p?Object(a.jsx)(m.a,{className:ie.a.textAlignIcon,onClick:N}):Object(a.jsx)(m.b,{className:ie.a.textAlignIcon,onClick:N}),Object(a.jsx)("button",{className:ie.a.button,onClick:function(e){e.preventDefault(),i.deleteWriting(t.uid,s,o),f.push({pathname:"/mywriting"})},children:"\uc0ad\uc81c\ud558\uae30"}),Object(a.jsx)("button",{className:ie.a.button,onClick:function(e){if(e.preventDefault(),""!==_.current.value){var n=new Date,a={addDateNow:Date.now(),addDate:"".concat(n.getFullYear(),"\ub144 ").concat(n.getMonth()+1,"\uc6d4 ").concat(n.getDate(),"\uc77c ").concat(n.getHours(),"\uc2dc"),subject:s,writing:_.current.value,username:t.displayName,alignCenter:p};i.saveWriting(t.uid,s,o,a),h.current.reset(),f.push({pathname:"/mywriting"})}else alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694")},children:"\uc218\uc815\ud558\uae30"})]})]})})]})},se=function(){return Object(a.jsx)("div",{className:se,children:"\ud398\uc774\uc9c0\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."})};function oe(e,t,n){return function(){var i=Object(j.f)(),r=Object(c.useState)(""),s=Object(g.a)(r,2),o=s[0],u=s[1];return Object(c.useEffect)((function(){t.onAuthChange((function(e){e?u(e):i.push("/")}))}),[i]),o&&Object(a.jsx)(e,{user:o,authService:t,writingRepository:n})}}var ue=function(e){var t=e.authService,n=e.writingRepository;return Object(a.jsx)("div",{className:u.a.app,children:Object(a.jsx)(f.a,{basename:"/react-firebase-write-app",children:Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{exact:!0,path:"/",children:Object(a.jsx)(d,{authService:t})}),Object(a.jsx)(j.a,{exact:!0,path:"/writing",component:oe(F,t,n)}),Object(a.jsx)(j.a,{exact:!0,path:"/writepage",component:oe(k,t,n)}),Object(a.jsx)(j.a,{exact:!0,path:"/subjects",component:oe(W,t,n)}),Object(a.jsx)(j.a,{exact:!0,path:"/mywriting",component:oe(J,t,n)}),Object(a.jsx)(j.a,{exact:!0,path:"/mywritingpage",component:oe(re,t,n)}),Object(a.jsx)(j.a,{exact:!0,path:"/search",component:oe(q,t,n)}),Object(a.jsx)(j.a,{exact:!0,path:"/writingPage",component:oe(V,t,n)}),Object(a.jsx)(j.a,{exact:!0,path:"/favorite",component:oe(ee,t,n)}),Object(a.jsx)(j.a,{exact:!0,path:"/favoritePage",component:oe(ae,t,n)}),Object(a.jsxs)(j.a,{path:"/",children:[Object(a.jsx)(w,{}),Object(a.jsx)(se,{})]})]})})})},je=n(27),le=n(28),be=n(30),de=(n(59),n(61),be.a.initializeApp({apiKey:"AIzaSyAJqEwFIKJybpp84E82W7QBa3B1QJDVl1U",authDomain:"write-98975.firebaseapp.com",databaseURL:"https://write-98975.firebaseio.com",projectId:"write-98975"})),fe=de.auth(),ge=de.database(),he=new be.a.auth.GoogleAuthProvider,_e=new be.a.auth.GithubAuthProvider,me=function(){function e(){Object(je.a)(this,e)}return Object(le.a)(e,[{key:"login",value:function(e){var t=this.getProvider(e);return fe.signInWithPopup(t)}},{key:"logout",value:function(){fe.signOut()}},{key:"onAuthChange",value:function(e){fe.onAuthStateChanged((function(t){e(t)}))}},{key:"getProvider",value:function(e){switch(e){case"Google":return he;case"Github":return _e;default:throw new Error}}}]),e}(),Oe=function(){function e(){Object(je.a)(this,e)}return Object(le.a)(e,[{key:"getSubjects",value:function(e){var t=ge.ref("subjects");return t.once("value",(function(t){var n=t.val();n&&e(n)})),function(){return t.off()}}},{key:"getWriting",value:function(e){var t=ge.ref("subjects");return t.once("value",(function(t){var n=t.val(),a=parseInt(Math.random()*Object.keys(n).length),c=Object.entries(n)[a];n&&e({subject:c[0],info:c[1]})})),function(){return t.off()}}},{key:"saveWriting",value:function(e,t,n,a){ge.ref("subjects/".concat(t,"/users/").concat(e)).set(a),ge.ref("users/".concat(e,"/subjects/").concat(n)).set(a)}},{key:"deleteWriting",value:function(e,t,n){ge.ref("subjects/".concat(t,"/users/").concat(e)).remove(),ge.ref("users/".concat(e,"/subjects/").concat(n)).remove()}},{key:"getMyWriting",value:function(e,t){var n=ge.ref("users/".concat(e,"/subjects"));return n.orderByChild("addDateNow").once("value",(function(e){var n=e.val();if(null===n)t({no:"no results"});else{var a=Object.entries(n).sort((function(e,t){return t[1].addDateNow-e[1].addDateNow})),c=Object.fromEntries(a);t(c)}})),function(){return n.off()}}},{key:"getSearch",value:function(e,t){var n=ge.ref("subjects/".concat(e));return n.once("value",(function(n){var a=n.val();t(null===a?{no:"no results"}:{cover:a.cover,users:a.users,subjectId:a.subjectId,subject:e})})),function(){return n.off()}}},{key:"getFavorite",value:function(e,t){var n=ge.ref("users/".concat(e,"/favorite"));return n.orderByChild("addDateNow").once("value",(function(e){var n=e.val();if(null===n)t({no:"no results"});else{var a=Object.entries(n).sort((function(e,t){return t[1].addDateNow-e[1].addDateNow})),c=Object.fromEntries(a);t(c)}})),function(){return n.off()}}},{key:"addToFavorite",value:function(e,t,n){ge.ref("users/".concat(e,"/favorite/").concat(t)).set(n)}},{key:"removeToFavorite",value:function(e,t){ge.ref("users/".concat(e,"/favorite/").concat(t)).remove()}}]),e}(),ve=new me,pe=new Oe;s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(ue,{authService:ve,writingRepository:pe})}),document.getElementById("root"))}],[[65,1,2]]]);
//# sourceMappingURL=main.503fc6f8.chunk.js.map