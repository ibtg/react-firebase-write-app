{"version":3,"sources":["components/writing/writing.module.css","components/search/search.module.css","components/writingPage/writingPage.module.css","components/favoritePage/favoritePage.module.css","components/myWritingPage/myWritingPage.module.css","components/login/login.module.css","components/writePage/writePage.module.css","components/writingList/writingList.module.css","components/header/header.module.css","components/subject/subject.module.css","components/subjects/subjects.module.css","components/myWriting/myWriting.module.css","components/favorite/favorite.module.css","App.module.css","index.module.css","components/login/login.jsx","components/sidebar/sidebar.jsx","components/header/header.jsx","components/writePage/writePage.jsx","components/subject/subject.jsx","components/subjects/subjects.jsx","components/writing/writing.jsx","components/writingList/writingList.jsx","components/myWriting/myWriting.jsx","components/search/search.jsx","components/writingPage/writingPage.jsx","components/favorite/favorite.jsx","components/favoritePage/favoritePage.jsx","components/myWritingPage/myWritingPage.jsx","hoc/auth.js","App.js","service/firebase.js","service/auth_service.js","service/writing_repository.js","index.js","components/sidebar/sidebar.module.css"],"names":["module","exports","Login","authService","history","useHistory","goToWriting","push","pathname","onLogin","event","login","currentTarget","name","then","data","user","uid","useEffect","onAuthChange","className","styles","list","item","button","onClick","Sidebar","onClickMenu","sidebar","onLogout","goToSubjects","goToMyWriting","goToFavorite","inputRef","useRef","on","closeContainer","menu","info","searchBox","search","onSubmit","preventDefault","subject","current","value","state","alert","ref","searchInput","type","placeholder","Header","useState","dateInfo","setDateInfo","setSidebar","headerRef","date","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","hour","header","logout","WritePage","writingRepository","historyState","location","formRef","textareaRef","undefined","container","form","title","autoFocus","content","minLength","buttonContainer","writing","writingId","now","username","displayName","saveWriting","reset","Subject","count","Subjects","subjects","setSubjects","subjectList","getSubjects","Object","entries","map","keys","users","length","subjectId","Writing","setWriting","getWriting","cover","writingInfo","writer","buttonIcon","buttonText","write","WritingList","onMove","data-id","MyWriting","myWritings","setMyWritings","onEdit","childeNodes","childNodes","innerText","innerHTML","getMyWriting","myWriting","noWriting","Search","writings","setWritings","goToWritingPage","dataset","id","writingList","getSearch","results","noResults","WritingPage","wrapper","likeObj","addToFavorite","console","log","Favorite","goToFavoritePage","getFavorite","a","FavoritePage","removeToFavorite","MyWritingPage","onChange","deleteWriting","Auth","SpecificComponent","setUser","App","app","basename","exact","path","component","firebaseApp","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","firebaseAuth","auth","firebaseDatabase","database","googleProvider","GoogleAuthProvider","githubProvider","GithubAuthProvider","AuthService","providerName","authProvider","this","getProvider","signInWithPopup","signOut","onUserChanged","onAuthStateChanged","Error","WritingRepository","onUpdate","once","snapshot","val","off","randIdx","parseInt","Math","random","userId","set","remove","orderByChild","orderedValue","sort","prev","curr","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eb518a62.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"writing_container__2usKo\",\"subject\":\"writing_subject__1kSru\",\"writing\":\"writing_writing__2lemG\",\"writingInfo\":\"writing_writingInfo__eX-BY\",\"writer\":\"writing_writer__3ZlAN\",\"button\":\"writing_button__3fqXb\",\"buttonIcon\":\"writing_buttonIcon__2xOut\",\"write\":\"writing_write__1kJH-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"search_container__20VNE\",\"subject\":\"search_subject__2nmIV\",\"writing\":\"search_writing__2qyRL\",\"writingInfo\":\"search_writingInfo__3Wy2L\",\"writer\":\"search_writer__3RHPN\",\"button\":\"search_button__dSJLQ\",\"write\":\"search_write__1DRLs\",\"noResults\":\"search_noResults__OTGd6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"writingPage_wrapper__1bq-k\",\"container\":\"writingPage_container__g2h0n\",\"title\":\"writingPage_title__d5PH6\",\"content\":\"writingPage_content__1JTxk\",\"buttonContainer\":\"writingPage_buttonContainer__1PLSM\",\"username\":\"writingPage_username__3rNj7\",\"button\":\"writingPage_button__2F-zF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"favoritePage_wrapper__38CiJ\",\"container\":\"favoritePage_container__3nrAz\",\"title\":\"favoritePage_title__e_3es\",\"content\":\"favoritePage_content__2-2pm\",\"buttonContainer\":\"favoritePage_buttonContainer__XRd0l\",\"username\":\"favoritePage_username__3pfhJ\",\"button\":\"favoritePage_button__1mLfT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"myWritingPage_container__2xog_\",\"form\":\"myWritingPage_form__3p8Ud\",\"title\":\"myWritingPage_title__14DM_\",\"content\":\"myWritingPage_content__FPVbg\",\"buttonContainer\":\"myWritingPage_buttonContainer__2i3aj\",\"button\":\"myWritingPage_button__1Iysk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__1uVkB\",\"list\":\"login_list__hRekQ\",\"item\":\"login_item__WOPvg\",\"button\":\"login_button__3LzLZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"writePage_container__Ozohz\",\"form\":\"writePage_form__2djrF\",\"title\":\"writePage_title__2w3rQ\",\"content\":\"writePage_content__3haiV\",\"buttonContainer\":\"writePage_buttonContainer__R0NAR\",\"button\":\"writePage_button__3TWA5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"writingList_content__2WqCa\",\"title\":\"writingList_title__Qsu0i\",\"writing\":\"writingList_writing__3HzUM\",\"writer\":\"writingList_writer__2jfQe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__2t7qo\",\"menu\":\"header_menu__3ycIB\",\"date\":\"header_date__cd-y9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"subject_item__3_w6n\",\"count\":\"subject_count__99wXo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"subjects_container__874Vd\",\"list\":\"subjects_list__1n_ef\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"myWriting_container__poWBu\",\"content\":\"myWriting_content__1SukE\",\"title\":\"myWriting_title__3MLQv\",\"writing\":\"myWriting_writing__IxJDP\",\"writer\":\"myWriting_writer__X8fBG\",\"noWriting\":\"myWriting_noWriting__2__iH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"favorite_container__3INCU\",\"noWriting\":\"favorite_noWriting__Avx58\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__16iff\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"src_root__1g47g\"};","import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styles from '../login/login.module.css'\r\n\r\nconst Login = ({authService}) =>{\r\n  \r\n  const history = useHistory();\r\n\r\n  const goToWriting = () =>{\r\n    history.push({\r\n      pathname:'/writing',\r\n    })\r\n\r\n  }\r\n\r\n  const onLogin = (event) =>{\r\n    authService//\r\n    .login(event.currentTarget.name)\r\n    .then(data=>goToWriting(data.user.uid))\r\n    // console.log(event.currentTarget.name)\r\n  }\r\n\r\n  useEffect(() => {\r\n    authService.onAuthChange(user =>{\r\n      user && goToWriting(user.uid)\r\n    })\r\n\r\n  })\r\n\r\n  return(\r\n    <section className={styles.login}>\r\n        <h1>로그인</h1>\r\n        <ul className={styles.list}>\r\n          <li className={styles.item}>\r\n            <button className={styles.button} onClick={onLogin} name=\"Google\">구글로 로그인</button>\r\n          </li>\r\n          <li className={styles.item}>\r\n            <button className={styles.button} onClick={onLogin} name=\"Github\">깃허브로 로그인</button>\r\n          </li>\r\n        </ul>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Login;","import React, { useRef } from 'react'\r\nimport styles from './sidebar.module.css'\r\nimport {AiOutlineClose} from 'react-icons/ai'\r\nimport {BiSearch} from 'react-icons/bi'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst Sidebar = ({onClickMenu, sidebar, onLogout, goToSubjects, goToWriting, goToMyWriting, goToFavorite}) => {\r\n  const inputRef = useRef();\r\n  const history = useHistory()\r\n\r\n  const onSubmit = (event) =>{\r\n    event.preventDefault()\r\n    const subject = inputRef.current.value\r\n    if(subject === ''){\r\n      alert('검색어를 입력해주세요.')\r\n      return;\r\n    }\r\n    inputRef.current.value=\"\"\r\n    history.push({\r\n      pathname:`/search/${subject}`,\r\n      state:{\r\n        subject:subject\r\n      }\r\n    })\r\n\r\n  }\r\n  \r\n  return (\r\n    <section className={ sidebar ?  `${styles.sidebar} ${styles.on}` : styles.sidebar} >\r\n        <div className={styles.closeContainer}>\r\n          <AiOutlineClose className={styles.menu} onClick={onClickMenu}></AiOutlineClose>\r\n        </div>\r\n        <div className={styles.info}>\r\n          <ul className={styles.list}>\r\n            <li className={styles.item} onClick={goToWriting}>글쓰기</li>\r\n            <li className={styles.item} onClick={goToSubjects}>글감</li>\r\n            <li className={styles.item} onClick={goToMyWriting}>나의 글</li>\r\n            <li className={styles.item} onClick={goToFavorite}>구독</li>\r\n            <li className={styles.item} onClick={onLogout}>로그아웃</li>\r\n          </ul>\r\n          <div className={styles.searchBox}>\r\n            <BiSearch className={styles.search}></BiSearch>\r\n            <form onSubmit={onSubmit} >\r\n              <input\r\n                ref={inputRef}\r\n                className={styles.searchInput} \r\n                type=\"text\" \r\n                placeholder=\"무엇을 찾고 계시나요?\"/>\r\n            </form>\r\n            \r\n          </div>\r\n        </div>\r\n\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Sidebar\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport styles from './header.module.css'\r\nimport {FaBars} from 'react-icons/fa'\r\nimport Sidebar from '../sidebar/sidebar'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\n\r\nconst Header = ({authService}) => {\r\n  const [dateInfo, setDateInfo] = useState({})\r\n  const [sidebar, setSidebar] = useState(false)\r\n  const history = useHistory()\r\n  const headerRef = useRef()\r\n\r\n\r\n  const onClickMenu = () => {\r\n    setSidebar(!sidebar)\r\n  }\r\n\r\n  const goToWriting = () =>{\r\n    history.push({\r\n      pathname:'/writing'\r\n    })\r\n  }\r\n\r\n  const goToSubjects = () =>{\r\n    history.push({\r\n      pathname:'/subjects'\r\n    })\r\n  }\r\n\r\n  const goToMyWriting = () =>{\r\n    history.push({\r\n      pathname:'/mywriting'\r\n    })\r\n  }\r\n\r\n  const goToFavorite = () =>{\r\n    history.push({\r\n      pathname:'/favorite'\r\n    })\r\n  }\r\n\r\n\r\n  const onLogout = () =>{\r\n    authService.logout();\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    const date = new Date();\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth()+1;\r\n    const day = date.getDate();\r\n    const hours = date.getHours();\r\n\r\n    if(6 <= hours && hours <12){\r\n      setDateInfo({\r\n        year: year,\r\n        month: month,\r\n        day : day,\r\n        hour: '아침'\r\n      })\r\n    }\r\n    else if(12 <= hours && hours <18){\r\n      setDateInfo({\r\n        year: year,\r\n        month: month,\r\n        day : day,\r\n        hour: '낮'\r\n      })\r\n    }else{\r\n      setDateInfo({\r\n        year: year,\r\n        month: month,\r\n        day : day,\r\n        hour: '밤'\r\n      })\r\n    }\r\n\r\n  },[])\r\n\r\n\r\n  // console.log(\"class: \",  headerRef.current && headerRef.current.classList[1] )\r\n  return (\r\n    <>\r\n      <header className={styles.header} ref={headerRef}>\r\n        <FaBars className={styles.menu} onClick={onClickMenu}></FaBars>\r\n        <span className={styles.date}>\r\n          {`${dateInfo.year}년 ${dateInfo.month}월 ${dateInfo.day}일, ${dateInfo.hour}`}\r\n        </span>\r\n      </header>\r\n      <Sidebar \r\n        sidebar={sidebar} \r\n        onClickMenu={onClickMenu} \r\n        onLogout={onLogout} \r\n        goToSubjects={goToSubjects}\r\n        goToWriting={goToWriting}\r\n        goToMyWriting={goToMyWriting}\r\n        goToFavorite={goToFavorite}\r\n      >\r\n      </Sidebar>\r\n    </>\r\n\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React, {useRef, useEffect, useState} from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport Header from '../header/header'\r\nimport styles from './writePage.module.css'\r\n\r\nconst WritePage = ({user, authService, writingRepository}) => {\r\n\r\n  const historyState = useHistory().location.state\r\n  const subject = historyState && historyState.subject\r\n  const history = useHistory()\r\n  const formRef = useRef();\r\n  const textareaRef = useRef();\r\n\r\n  const onSubmit = (event) =>{\r\n    event.preventDefault();\r\n    if(textareaRef.current.value === ''){\r\n      alert('내용을 입력하세요')\r\n      return ;\r\n    }\r\n\r\n    const writing = {\r\n      writingId: Date.now(),\r\n      subject:subject,\r\n      writing:textareaRef.current.value,\r\n      username:user.displayName\r\n    }\r\n    \r\n    // console.log(\"writing: \", writing)\r\n    // console.log(\"subjectId: \", subjectId)\r\n    writingRepository.saveWriting(user.uid, subject, writing)\r\n\r\n    formRef.current.reset();\r\n\r\n    history.push({\r\n      pathname:'/mywriting'\r\n    })\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    if(subject === undefined){\r\n      alert('접근 권한이 없습니다.');\r\n      history.push({\r\n        pathname:'/main'\r\n      })\r\n\r\n    }\r\n  }, [subject, history])\r\n\r\n  \r\n  return (\r\n\r\n    <>\r\n      <Header authService={authService}></Header>\r\n      <section className={styles.container}>\r\n        <form ref={formRef} className={styles.form} >\r\n          <span className={styles.title} >{subject}</span>\r\n          <textarea \r\n            autoFocus={true}\r\n            ref={textareaRef} \r\n            className={styles.content}\r\n            minLength=\"1\" \r\n            placeholder='당신의 생각을 들려주세요'\r\n            >\r\n          </textarea>\r\n          <div className={styles.buttonContainer}>\r\n            <button className={styles.button} onClick={onSubmit}>\r\n              작성하기\r\n            </button>\r\n          </div>\r\n\r\n        </form>\r\n      </section>\r\n    </>\r\n\r\n  )\r\n}\r\n\r\nexport default WritePage\r\n","import React from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport styles from './subject.module.css'\r\n\r\nconst Subject = ({subject, count}) => {\r\n  const history = useHistory();\r\n\r\n  const goToWritingPage = (event) =>{\r\n    event.preventDefault()\r\n\r\n    history.push({\r\n      pathname:`/search/${subject}`,\r\n      state:{\r\n        subject:subject }\r\n      })\r\n    }\r\n\r\n  return (\r\n    <li className={styles.item} onClick={goToWritingPage}>\r\n      {subject}\r\n      <span className={styles.count}>{count} 씀</span>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Subject\r\n","import React, { useEffect, useState } from 'react'\r\nimport Header from '../header/header'\r\nimport Subject from '../subject/subject'\r\nimport styles from './subjects.module.css'\r\n\r\n\r\nconst Subjects = ({authService, writingRepository}) => {\r\n  const [subjects, setSubjects] = useState({})\r\n\r\n  useEffect(() => {\r\n    // console.log(\"subjects: \", writingRepository)\r\n    const subjectList =  writingRepository.getSubjects(subjects=>{\r\n      setSubjects(subjects)\r\n    })\r\n    \r\n    return ()=>subjectList();\r\n\r\n  }, [writingRepository])\r\n\r\n  // console.log(\"subjects: \", subjects)\r\n  // console.log(\"subjects entires: \", Object.entries(subjects))\r\n\r\n  return (\r\n    <>\r\n      <Header authService={authService}></Header>\r\n      <section className={styles.container}>\r\n        <ul className={styles.list}>\r\n          {subjects && Object.entries(subjects).map(subject => \r\n          <Subject \r\n            key={subject[1].subjectId} \r\n            subject={subject[0]} \r\n            count={Object.keys(subject[1].users).length}>\r\n          </Subject>)}\r\n        </ul>\r\n      </section>\r\n    </>\r\n      \r\n  )\r\n}\r\n\r\nexport default Subjects\r\n","import React, { useEffect, useState } from 'react'\r\nimport styles from './writing.module.css';\r\nimport Header from '../header/header'\r\nimport {BsChevronDoubleRight} from 'react-icons/bs'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst Writing = ({authService, writingRepository}) => {\r\n  const [writing, setWriting] = useState({})\r\n  const history = useHistory();\r\n\r\n  const goToWrite = (event) =>{\r\n    event.preventDefault()\r\n\r\n    history.push({\r\n      pathname:`/writepage/${writing.subject}`,\r\n      state:{\r\n        subject:writing.subject }\r\n      })\r\n    }\r\n\r\n  const goToWritingPage = (event) =>{\r\n    event.preventDefault()\r\n\r\n    history.push({\r\n      pathname:`/search/${writing.subject}`,\r\n      state:{\r\n        subject:writing.subject }\r\n      })\r\n    }\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    \r\n    const subjectList =  writingRepository.getWriting(writing=>{\r\n      setWriting(writing)\r\n      \r\n  })\r\n  return ()=>subjectList();\r\n\r\n  },[writingRepository])\r\n\r\n\r\n  return (\r\n    <>\r\n      <Header authService={authService}></Header>\r\n      {Object.keys(writing).length !==0 &&\r\n        <section className={styles.container}>\r\n          <h2 className={styles.subject}>{writing.subject}</h2>\r\n          <p className={styles.writing}>{writing.info.cover.writing}</p>\r\n          <div className={styles.writingInfo}>\r\n            <span className={styles.writer}>{writing.info.cover.writer}</span>\r\n            <span className={styles.title}>{`<${writing.info.cover.title}>`}</span>\r\n          </div>\r\n\r\n          <button className={styles.button}>\r\n            <BsChevronDoubleRight className={styles.buttonIcon}></BsChevronDoubleRight>\r\n            <span className={styles.buttonText} onClick={goToWritingPage}>넘겨서 보기</span>\r\n          </button>\r\n\r\n          <button className={styles.write} onClick={goToWrite}>나의 글 쓰기</button>\r\n        </section>\r\n    }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Writing\r\n","import React from 'react'\r\nimport styles from './writingList.module.css'\r\n\r\nconst WritingList = ({subject, writingId, writing, username, onMove}) => {\r\n  return (\r\n    <div data-id={writingId} className={styles.content} onClick={onMove}>\r\n      <h3 className={styles.title}>{subject}</h3>\r\n      <p className={styles.writing}>{writing}</p>\r\n      <span className={styles.writer}>{username}</span>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default WritingList\r\n","import React, { useEffect, useState } from 'react'\r\nimport styles from './myWriting.module.css'\r\nimport Header from '../header/header'\r\nimport { useHistory } from 'react-router-dom'\r\nimport WritingList from '../writingList/writingList'\r\n\r\nconst MyWriting = ({user, authService, writingRepository}) => {\r\n\r\n  const [myWritings, setMyWritings] = useState([])\r\n  const history = useHistory()\r\n\r\n  const onEdit = (event) =>{\r\n    event.preventDefault();\r\n    const childeNodes = event.currentTarget.childNodes\r\n    const subject = childeNodes[0].innerText\r\n    const writing = childeNodes[1].innerHTML\r\n\r\n    history.push({\r\n      pathname:`/mywritingpage`,\r\n      state:{\r\n        subject: subject,\r\n        writing: writing\r\n      }\r\n\r\n    })\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    writingRepository.getMyWriting(user.uid, (writing)=>{\r\n      setMyWritings(writing)})\r\n  },[writingRepository, user])\r\n\r\n  return (\r\n    <>\r\n      <Header authService={authService}></Header>\r\n      <div className={styles.container}>\r\n        {Object.keys(myWritings).length !== 0 ?\r\n        myWritings.map((myWriting)=>(\r\n        <WritingList\r\n          key={myWriting[1].writingId}\r\n          subject={myWriting[1].subject}\r\n          writingId={myWriting[0]}\r\n          writing={myWriting[1].writing}\r\n          username={myWriting[1].username}\r\n          onMove={onEdit}\r\n        ></WritingList>\r\n\r\n        ))  \r\n        :\r\n        <div className={styles.noWriting}>\r\n          작성한 글이 없습니다.\r\n        </div>\r\n        }\r\n\r\n\r\n\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MyWriting\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport styles from './search.module.css'\r\nimport Header from '../header/header'\r\nimport WritingList from '../writingList/writingList'\r\n\r\nconst Search = ({authService, writingRepository}) => {\r\n  \r\n  const historyState = useHistory().location.state\r\n  const subject = historyState && historyState.subject\r\n  const history = useHistory()\r\n  const [writings, setWritings] = useState({})\r\n\r\n  const goToWritingPage = (event) =>{\r\n    event.preventDefault();\r\n    const subject = event.currentTarget.childNodes[0].innerHTML\r\n    const writing = event.currentTarget.childNodes[1].innerHTML\r\n    const username = event.currentTarget.childNodes[2].innerHTML\r\n    const writingId = event.currentTarget.dataset.id\r\n    history.push({\r\n      pathname:'/writingPage',\r\n      state:{\r\n        subject:subject,\r\n        writing:writing,\r\n        username:username,\r\n        writingId:writingId\r\n      }\r\n    })\r\n  }\r\n\r\n  const goToWrite = (event) =>{\r\n    event.preventDefault()\r\n\r\n    history.push({\r\n      pathname:`/writepage/${subject}`,\r\n      state:{\r\n        subject:subject }\r\n      })\r\n    }\r\n\r\n\r\n  useEffect(() => {\r\n    const writingList =  writingRepository.getSearch(subject, (results)=>{\r\n      setWritings(results)\r\n      \r\n  })\r\n  return ()=>writingList();\r\n\r\n  },[writingRepository , subject])\r\n\r\n  // console.log(\"writings: \", writings)\r\n  // console.log(\"writings object: \", Object.entries(writings))\r\n  return (\r\n    <>\r\n      <Header authService={authService}></Header>\r\n      <div className={styles.container}>\r\n        {Object.keys(writings).length === 0 ?\r\n        <div className={styles.noResults}>\r\n          작성한 글이 없습니다.\r\n        </div>\r\n        :\r\n        <>\r\n          <h2 className={styles.subject}>{writings.subject}</h2>\r\n          <p className={styles.writing}>{writings.cover.writing}</p>\r\n          <div className={styles.writingInfo}>\r\n            <span className={styles.writer}>{writings.cover.writer}</span>\r\n            <span className={styles.title}>{`<${writings.cover.title}>`}</span>\r\n          </div>\r\n          <button className={styles.write} onClick={goToWrite}>나의 글 쓰기</button>\r\n          {Object.entries(writings.users).map((writing)=>(\r\n                <WritingList\r\n                  key={writing[1].writingId}\r\n                  subject={writing[1].subject}\r\n                  writingId={writing[1].writingId}\r\n                  writing={writing[1].writing}\r\n                  username={writing[1].username}\r\n                  onMove={goToWritingPage}\r\n                ></WritingList>\r\n                ))}\r\n        </>\r\n        \r\n        }\r\n    </div>\r\n  </>\r\n\r\n  )\r\n}\r\n\r\nexport default Search\r\n","import React from 'react'\r\nimport styles from './writingPage.module.css'\r\nimport Header from '../header/header'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst WritingPage = ({user, authService, writingRepository}) => {\r\n\r\n  const historyState = useHistory().location.state\r\n  const history = useHistory();\r\n  const subject = historyState && historyState.subject\r\n  const writing = historyState && historyState.writing\r\n  const username = historyState && historyState.username\r\n  const writingId = historyState && historyState.writingId\r\n\r\n  const addFavoriteWriting= (event)=>{\r\n    event.preventDefault();\r\n\r\n    const likeObj = {\r\n      subject:subject,\r\n      username:username,\r\n      writing:writing,\r\n      date:Date.now()\r\n    }\r\n\r\n    writingRepository.addToFavorite(user.uid, writingId, likeObj)\r\n    console.log(\"담아가기\")\r\n    history.push({\r\n      pathname:`/favorite`\r\n    })\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header authService={authService}></Header>\r\n      <div className={styles.wrapper}>\r\n        <div className={styles.container}>\r\n            <span className={styles.title} >{subject}</span>\r\n            <div className={styles.content}>\r\n              {writing}\r\n            </div>\r\n            <div className={styles.buttonContainer}>\r\n              <div className={styles.username}>{username}의 글</div>\r\n              <button className={styles.button} onClick={addFavoriteWriting}>\r\n                담아가기\r\n              </button>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default WritingPage\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport Header from '../header/header'\r\nimport WritingList from '../writingList/writingList'\r\nimport styles from './favorite.module.css'\r\n\r\nconst Favorite = ({user, authService, writingRepository}) => {\r\n\r\n  const [writings, setWritings] = useState([])\r\n  const history = useHistory()\r\n\r\n  const goToFavoritePage = (event) =>{\r\n    event.preventDefault();\r\n    const subject = event.currentTarget.childNodes[0].innerHTML\r\n    const writing = event.currentTarget.childNodes[1].innerHTML\r\n    const username = event.currentTarget.childNodes[2].innerHTML\r\n    const writingId = event.currentTarget.dataset.id\r\n    history.push({\r\n      pathname:`/favoritePage/${subject}`,\r\n      state:{\r\n        subject:subject,\r\n        writing:writing,\r\n        username:username,\r\n        writingId:writingId\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    const writingList = writingRepository.getFavorite(user.uid, async (results)=>{\r\n      setWritings(results)\r\n    })\r\n    return () => writingList()\r\n  }, [writingRepository, user])\r\n\r\n\r\n  return (\r\n    <>\r\n      <Header authService={authService}></Header>\r\n      <div className={styles.container}>\r\n\r\n\r\n        { \r\n          Object.keys(writings).length !== 0 ?\r\n          writings.map((writing)=>(\r\n          <WritingList\r\n            key={writing[1].date}\r\n            subject={writing[1].subject}\r\n            writingId={writing[0]}\r\n            writing={writing[1].writing}\r\n            username={writing[1].username}\r\n            onMove={goToFavoritePage}\r\n          ></WritingList>\r\n          ))  \r\n        :\r\n        <div className={styles.noWriting}>\r\n          담아온 글이 없습니다.\r\n        </div>\r\n        }\r\n\r\n\r\n\r\n      </div>\r\n    </>\r\n  )\r\n\r\n}\r\n\r\nexport default Favorite\r\n","import React from 'react'\r\nimport styles from './favoritePage.module.css'\r\nimport Header from '../header/header'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst FavoritePage = ({user, authService, writingRepository}) => {\r\n\r\n  const historyState = useHistory().location.state\r\n  const history = useHistory();\r\n  const subject = historyState && historyState.subject\r\n  const writing = historyState && historyState.writing\r\n  const username = historyState && historyState.username\r\n  const writingId = historyState && historyState.writingId\r\n\r\n  const removeFavoriteWriting= (event)=>{\r\n    event.preventDefault()\r\n    writingRepository.removeToFavorite(user.uid, writingId)\r\n    console.log(\"remove writingId: \", writingId)\r\n    history.push({\r\n      pathname:`/favorite`\r\n    })\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <Header authService={authService}></Header>\r\n      <div className={styles.wrapper}>\r\n        <div className={styles.container}>\r\n            <span className={styles.title} >{subject}</span>\r\n            <div className={styles.content}>\r\n              {writing}\r\n            </div>\r\n            <div className={styles.buttonContainer}>\r\n              <div className={styles.username}>{username}의 글</div>\r\n              <button className={styles.button} onClick={removeFavoriteWriting}>\r\n                삭제하기\r\n              </button>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FavoritePage\r\n","import React, {useRef, useEffect, useState} from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport styles from './myWritingPage.module.css'\r\nimport Header from '../header/header'\r\n\r\nconst MyWritingPage = ({user, authService, writingRepository}) => {\r\n\r\n  const historyState = useHistory().location.state\r\n  const subject = historyState && historyState.subject\r\n  const [writing, setWriting] = useState(historyState ? historyState.writing : '')\r\n  const history = useHistory()\r\n  const formRef = useRef();\r\n  const textareaRef = useRef();\r\n\r\n  const onSubmit = (event) =>{\r\n    event.preventDefault();\r\n    if(textareaRef.current.value === ''){\r\n      alert('내용을 입력하세요')\r\n      return ;\r\n    }\r\n\r\n    const writing = {\r\n      writingId: Date.now(),\r\n      subject:subject,\r\n      writing:textareaRef.current.value,\r\n      username:user.displayName\r\n    }\r\n\r\n    writingRepository.saveWriting(user.uid, subject, writing)\r\n\r\n    formRef.current.reset();\r\n\r\n    history.push({\r\n      pathname:'/mywriting'\r\n    })\r\n  }\r\n\r\n  const onDelete = (event)=>{\r\n    event.preventDefault();\r\n    writingRepository.deleteWriting(user.uid, subject)\r\n    history.push({\r\n      pathname:'/mywriting'\r\n    })\r\n\r\n  }\r\n\r\n  const handleChange = (event) =>{\r\n    setWriting(event.currentTarget.value)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header authService={authService}></Header>\r\n      <section className={styles.container}>\r\n        <form ref={formRef} className={styles.form} >\r\n          <span className={styles.title} >{subject}</span>\r\n          <textarea \r\n            autoFocus={true}\r\n            ref={textareaRef} \r\n            className={styles.content}\r\n            minLength=\"1\" \r\n            placeholder='당신의 생각을 들려주세요'\r\n            value={writing}\r\n            onChange={handleChange}\r\n            >\r\n            {writing}\r\n          </textarea>\r\n          <div className={styles.buttonContainer}>\r\n\r\n            <div className=\"buttonContainer\">\r\n              <button className={styles.button} onClick={onDelete}>\r\n                삭제하기\r\n              </button>\r\n              <button className={styles.button} onClick={onSubmit}>\r\n                수정하기\r\n              </button>\r\n            </div>     \r\n          </div>\r\n        </form>\r\n      </section>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MyWritingPage\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport default function Auth(SpecificComponent, authService, writingRepository){\r\n\r\n  const AuthentificationCheck = () =>{\r\n    const history = useHistory();\r\n    const [user, setUser] = useState('')\r\n\r\n    useEffect(() => {\r\n      // check user log in\r\n      authService.onAuthChange( user =>{\r\n        if(user){\r\n          setUser(user)\r\n        }else{\r\n          history.push('/')\r\n\r\n        }\r\n        \r\n      })\r\n    },[history])\r\n\r\n  \r\n    return ( user && <SpecificComponent  user={user} authService={authService} writingRepository={writingRepository}></SpecificComponent>)\r\n  }\r\n  \r\n  return AuthentificationCheck;\r\n\r\n}\r\n\r\n","import styles from './App.module.css'\r\nimport Login from './components/login/login'\r\nimport {BrowserRouter, Route, Switch} from 'react-router-dom';\r\nimport WritePage from './components/writePage/writePage'\r\nimport Subjects from './components/subjects/subjects'\r\nimport Writing from './components/writing/writing'\r\nimport MyWriting from './components/myWriting/myWriting'\r\nimport Search from './components/search/search'\r\nimport WritingPage from './components/writingPage/writingPage'\r\nimport Favorite from './components/favorite/favorite'\r\nimport FavoritePage from './components/favoritePage/favoritePage'\r\nimport MyWritingPage from './components/myWritingPage/myWritingPage'\r\nimport Auth from './hoc/auth'\r\n\r\nfunction App({authService, writingRepository}) {\r\n\r\n  return (\r\n    <div className={styles.app}>\r\n      <BrowserRouter basename=\"/react-firebase-write-app\" >\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Login authService={authService}></Login>\r\n          </Route>\r\n          <Route exact path=\"/writing\" component={Auth(Writing, authService, writingRepository )}></Route>\r\n          <Route exact path=\"/writepage/:subject\" component={Auth(WritePage, authService, writingRepository )}></Route>\r\n          <Route exact path=\"/subjects\" component={Auth(Subjects, authService, writingRepository )}></Route>\r\n          <Route exact path=\"/mywriting\" component={Auth(MyWriting, authService, writingRepository )}></Route>\r\n          <Route exact path=\"/mywritingpage\" component={Auth(MyWritingPage,authService, writingRepository )}></Route>\r\n          <Route exact path=\"/search/:subject\" component={Auth(Search, authService, writingRepository)}></Route>\r\n          <Route exact path=\"/writingPage\" component={Auth(WritingPage, authService, writingRepository)}></Route>  \r\n          <Route exact path=\"/favorite\" component={Auth(Favorite, authService, writingRepository )}></Route>\r\n          <Route exact path=\"/favoritePage/:subject\" component={Auth(FavoritePage, authService, writingRepository )}></Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_FIREBASE_DB_URL,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  };\r\n\r\n// Initialize Firebase\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig)\r\n\r\nexport const firebaseAuth =  firebaseApp.auth();\r\nexport const firebaseDatabase = firebaseApp.database();\r\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\r\nexport const githubProvider = new firebase.auth.GithubAuthProvider();","import {firebaseAuth, githubProvider, googleProvider} from './firebase'\r\n\r\nclass AuthService{\r\n  \r\n  // Login\r\n  login(providerName){\r\n    const authProvider = this.getProvider(providerName)\r\n    return firebaseAuth.signInWithPopup(authProvider);\r\n  }\r\n  \r\n  // logout\r\n  logout(){\r\n    firebaseAuth.signOut()\r\n  }\r\n\r\n  // state change check\r\n  onAuthChange(onUserChanged){\r\n    firebaseAuth.onAuthStateChanged(user =>{\r\n      onUserChanged(user)\r\n    })\r\n  }\r\n\r\n\r\n  // get provider\r\n  getProvider(providerName){\r\n    switch(providerName){\r\n      case 'Google':\r\n        return googleProvider;\r\n      case 'Github':\r\n        return githubProvider;\r\n      default:\r\n        throw new Error();\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default AuthService","import {firebaseDatabase} from './firebase'\r\n\r\nclass WritingRepository{\r\n\r\n\r\n  getSubjects(onUpdate){\r\n    const ref = firebaseDatabase.ref('subjects');\r\n\r\n    ref.once('value', snapshot =>{\r\n      const value = snapshot.val();\r\n      value && onUpdate(value)\r\n    })\r\n\r\n    return ()=>ref.off();\r\n  }\r\n\r\n  getWriting(onUpdate){\r\n    const ref = firebaseDatabase.ref('subjects')\r\n    ref.once('value', snapshot =>{\r\n      const value = snapshot.val();\r\n      const randIdx = parseInt(Math.random()*Object.keys(value).length) //get rand Index\r\n      const writing = Object.entries(value)[randIdx]\r\n      value && onUpdate({subject:writing[0], info:writing[1] })\r\n    })\r\n\r\n    return ()=>ref.off();\r\n  }\r\n\r\n  // save user's writing\r\n  saveWriting(userId, subject, writing){\r\n\r\n    // save in subject\r\n    firebaseDatabase.ref(`subjects/${subject}/users/${userId}`).set(writing)\r\n\r\n    // save as user\r\n    firebaseDatabase.ref(`users/${userId}/subjects/${subject}`).set(writing)\r\n\r\n  }\r\n\r\n  deleteWriting(userId, subject){\r\n    \r\n    // save in subject\r\n    firebaseDatabase.ref(`subjects/${subject}/users/${userId}`).remove()\r\n\r\n    // save as user\r\n    firebaseDatabase.ref(`users/${userId}/subjects/${subject}`).remove()\r\n\r\n  }\r\n\r\n\r\n  // get my writing\r\n  getMyWriting(userId, onUpdate){\r\n    const ref = firebaseDatabase.ref(`users/${userId}/subjects`)\r\n\r\n    ref.orderByChild('writingId').once('value', snapshot =>{\r\n\r\n      const value = snapshot.val()\r\n      if (value === null){\r\n        onUpdate({})\r\n      }else{\r\n        const orderedValue = Object.entries(value).sort((prev, curr) => curr[1].writingId - prev[1].writingId)\r\n        orderedValue && onUpdate((orderedValue))\r\n      }\r\n    })\r\n\r\n    return ()=>ref.off();\r\n\r\n  }\r\n\r\n  getSearch(subject, onUpdate){\r\n    const ref = firebaseDatabase.ref(`subjects/${subject}`)\r\n    ref.once('value', snapshot =>{\r\n\r\n      const value = snapshot.val();\r\n      if(value){\r\n        onUpdate({cover: value.cover, users:value.users, subject:subject})\r\n      }else{\r\n        onUpdate({})\r\n      }\r\n    })\r\n    return ()=>ref.off();\r\n  }\r\n\r\n  getFavorite(userId, onUpdate){\r\n    const ref = firebaseDatabase.ref(`users/${userId}/favorite`)\r\n\r\n    ref.orderByChild('writingId').once('value', snapshot =>{\r\n\r\n      const value = snapshot.val()\r\n      if (value === null){\r\n        onUpdate({})\r\n      }else{\r\n        const orderedValue = Object.entries(value).sort((prev, curr) => curr[1].date - prev[1].date)\r\n        console.log(\"orderedValue: \", orderedValue)\r\n        orderedValue && onUpdate((orderedValue))\r\n      }\r\n\r\n    })\r\n    return ()=>ref.off();\r\n  }\r\n\r\n  // add to user's favorite writing\r\n  addToFavorite(userId, writingId, writing){\r\n    // save as user\r\n    firebaseDatabase.ref(`users/${userId}/favorite/${writingId}`).set(writing)\r\n\r\n  }\r\n\r\n  // remove from favorite list\r\n  removeToFavorite(userId, writingId){\r\n    firebaseDatabase.ref(`users/${userId}/favorite/${writingId}`).remove()\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default WritingRepository","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.module.css';\r\nimport App from './App';\r\nimport AuthService from './service/auth_service';\r\nimport WritingRepository from './service/writing_repository'\r\n\r\n\r\nconst authService = new AuthService();\r\nconst writingRepository = new WritingRepository()\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App authService={authService} writingRepository={writingRepository}/>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"sidebar_sidebar__DMJ16\",\"on\":\"sidebar_on__2Mm_n\",\"closeContainer\":\"sidebar_closeContainer__oaqUB\",\"menu\":\"sidebar_menu__2iKhl\",\"list\":\"sidebar_list__3K-aD\",\"item\":\"sidebar_item___QUG-\",\"info\":\"sidebar_info__5aScc\",\"searchBox\":\"sidebar_searchBox__RUTES\",\"search\":\"sidebar_search__T8IhZ\",\"searchInput\":\"sidebar_searchInput___Dcdl\"};"],"sourceRoot":""}