(this["webpackJsonpreact-firebase-write-app"]=this["webpackJsonpreact-firebase-write-app"]||[]).push([[0],{14:function(e,t,n){e.exports={container:"writing_container__2usKo",subject:"writing_subject__1kSru",writing:"writing_writing__2lemG",writingInfo:"writing_writingInfo__eX-BY",writer:"writing_writer__3ZlAN",button:"writing_button__3fqXb",buttonIcon:"writing_buttonIcon__2xOut",write:"writing_write__1kJH-"}},16:function(e,t,n){e.exports={container:"search_container__20VNE",subject:"search_subject__2nmIV",writing:"search_writing__2qyRL",writingInfo:"search_writingInfo__3Wy2L",writer:"search_writer__3RHPN",button:"search_button__dSJLQ",write:"search_write__1DRLs",noResults:"search_noResults__OTGd6"}},17:function(e,t,n){e.exports={wrapper:"writingPage_wrapper__1bq-k",container:"writingPage_container__g2h0n",title:"writingPage_title__d5PH6",content:"writingPage_content__1JTxk",buttonContainer:"writingPage_buttonContainer__1PLSM",username:"writingPage_username__3rNj7",button:"writingPage_button__2F-zF"}},18:function(e,t,n){e.exports={wrapper:"favoritePage_wrapper__38CiJ",container:"favoritePage_container__3nrAz",title:"favoritePage_title__e_3es",content:"favoritePage_content__2-2pm",buttonContainer:"favoritePage_buttonContainer__XRd0l",username:"favoritePage_username__3pfhJ",button:"favoritePage_button__1mLfT"}},19:function(e,t,n){e.exports={container:"myWritingPage_container__2xog_",form:"myWritingPage_form__3p8Ud",title:"myWritingPage_title__14DM_",content:"myWritingPage_content__FPVbg",buttonContainer:"myWritingPage_buttonContainer__2i3aj",button:"myWritingPage_button__1Iysk"}},22:function(e,t,n){e.exports={login:"login_login__1uVkB",list:"login_list__hRekQ",item:"login_item__WOPvg",button:"login_button__3LzLZ"}},23:function(e,t,n){e.exports={container:"writePage_container__Ozohz",form:"writePage_form__2djrF",title:"writePage_title__2w3rQ",content:"writePage_content__3haiV",buttonContainer:"writePage_buttonContainer__R0NAR",button:"writePage_button__3TWA5"}},25:function(e,t,n){e.exports={content:"writingList_content__2WqCa",title:"writingList_title__Qsu0i",writing:"writingList_writing__3HzUM",writer:"writingList_writer__2jfQe"}},28:function(e,t,n){e.exports={header:"header_header__2t7qo",menu:"header_menu__3ycIB",date:"header_date__cd-y9"}},35:function(e,t,n){e.exports={item:"subject_item__3_w6n",count:"subject_count__99wXo"}},36:function(e,t,n){e.exports={container:"subjects_container__874Vd",list:"subjects_list__1n_ef"}},37:function(e,t,n){e.exports={container:"myWriting_container__poWBu",content:"myWriting_content__1SukE",title:"myWriting_title__3MLQv",writing:"myWriting_writing__IxJDP",writer:"myWriting_writer__X8fBG",noWriting:"myWriting_noWriting__2__iH"}},39:function(e,t,n){e.exports={container:"favorite_container__3INCU",noWriting:"favorite_noWriting__Avx58"}},42:function(e,t,n){e.exports={app:"App_app__16iff"}},54:function(e,t,n){e.exports={root:"src_root__1g47g"}},66:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(3),i=n.n(c),r=n(41),s=n.n(r),o=(n(54),n(42)),u=n.n(o),j=n(6),l=n(22),b=n.n(l),h=function(e){var t=e.authService,n=Object(j.f)(),i=function(){n.push({pathname:"/writing"})},r=function(e){t.login(e.currentTarget.name).then((function(e){return i(e.user.uid)}))};return Object(c.useEffect)((function(){t.onAuthChange((function(e){e&&i(e.uid)}))})),Object(a.jsxs)("section",{className:b.a.login,children:[Object(a.jsx)("h1",{children:"\ub85c\uadf8\uc778"}),Object(a.jsxs)("ul",{className:b.a.list,children:[Object(a.jsx)("li",{className:b.a.item,children:Object(a.jsx)("button",{className:b.a.button,onClick:r,name:"Google",children:"\uad6c\uae00\ub85c \ub85c\uadf8\uc778"})}),Object(a.jsx)("li",{className:b.a.item,children:Object(a.jsx)("button",{className:b.a.button,onClick:r,name:"Github",children:"\uae43\ud5c8\ube0c\ub85c \ub85c\uadf8\uc778"})})]})]})},f=n(10),g=n(8),d=n(28),_=n.n(d),m=n(46),O=n(9),v=n.n(O),p=n(44),x=n(45),w=function(e){var t=e.onClickMenu,n=e.sidebar,i=e.onLogout,r=e.goToSubjects,s=e.goToWriting,o=e.goToMyWriting,u=e.goToFavorite,l=Object(c.useRef)(),b=Object(j.f)();return Object(a.jsxs)("section",{className:n?"".concat(v.a.sidebar," ").concat(v.a.on):v.a.sidebar,children:[Object(a.jsx)("div",{className:v.a.closeContainer,children:Object(a.jsx)(p.a,{className:v.a.menu,onClick:t})}),Object(a.jsxs)("div",{className:v.a.info,children:[Object(a.jsxs)("ul",{className:v.a.list,children:[Object(a.jsx)("li",{className:v.a.item,onClick:s,children:"\uae00\uc4f0\uae30"}),Object(a.jsx)("li",{className:v.a.item,onClick:r,children:"\uae00\uac10"}),Object(a.jsx)("li",{className:v.a.item,onClick:o,children:"\ub098\uc758 \uae00"}),Object(a.jsx)("li",{className:v.a.item,onClick:u,children:"\uad6c\ub3c5"}),Object(a.jsx)("li",{className:v.a.item,onClick:i,children:"\ub85c\uadf8\uc544\uc6c3"})]}),Object(a.jsxs)("div",{className:v.a.searchBox,children:[Object(a.jsx)(x.a,{className:v.a.search}),Object(a.jsx)("form",{onSubmit:function(e){e.preventDefault();var t=l.current.value;""!==t?(l.current.value="",b.push({pathname:"/search/".concat(t),state:{subject:t}})):alert("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")},children:Object(a.jsx)("input",{ref:l,className:v.a.searchInput,type:"text",placeholder:"\ubb34\uc5c7\uc744 \ucc3e\uace0 \uacc4\uc2dc\ub098\uc694?"})})]})]})]})},N=function(e){var t=e.authService,n=Object(c.useState)({}),i=Object(g.a)(n,2),r=i[0],s=i[1],o=Object(c.useState)(!1),u=Object(g.a)(o,2),l=u[0],b=u[1],h=Object(j.f)(),f=Object(c.useRef)(),d=function(){b(!l)};return Object(c.useEffect)((function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,a=e.getDate(),c=e.getHours();s(6<=c&&c<12?{year:t,month:n,day:a,hour:"\uc544\uce68"}:12<=c&&c<18?{year:t,month:n,day:a,hour:"\ub0ae"}:{year:t,month:n,day:a,hour:"\ubc24"})}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("header",{className:_.a.header,ref:f,children:[Object(a.jsx)(m.a,{className:_.a.menu,onClick:d}),Object(a.jsx)("span",{className:_.a.date,children:"".concat(r.year,"\ub144 ").concat(r.month,"\uc6d4 ").concat(r.day,"\uc77c, ").concat(r.hour)})]}),Object(a.jsx)(w,{sidebar:l,onClickMenu:d,onLogout:function(){t.logout()},goToSubjects:function(){h.push({pathname:"/subjects"})},goToWriting:function(){h.push({pathname:"/writing"})},goToMyWriting:function(){h.push({pathname:"/mywriting"})},goToFavorite:function(){h.push({pathname:"/favorite"})}})]})},y=n(23),k=n.n(y),S=function(e){var t=e.user,n=e.authService,i=e.writingRepository,r=Object(j.f)().location.state,s=r&&r.subject,o=Object(j.f)(),u=Object(c.useRef)(),l=Object(c.useRef)();return Object(c.useEffect)((function(){void 0===s&&(alert("\uc811\uadfc \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),o.push({pathname:"/main"}))}),[s,o]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N,{authService:n}),Object(a.jsx)("section",{className:k.a.container,children:Object(a.jsxs)("form",{ref:u,className:k.a.form,children:[Object(a.jsx)("span",{className:k.a.title,children:s}),Object(a.jsx)("textarea",{autoFocus:!0,ref:l,className:k.a.content,minLength:"1",placeholder:"\ub2f9\uc2e0\uc758 \uc0dd\uac01\uc744 \ub4e4\ub824\uc8fc\uc138\uc694"}),Object(a.jsx)("div",{className:k.a.buttonContainer,children:Object(a.jsx)("button",{className:k.a.button,onClick:function(e){if(e.preventDefault(),""!==l.current.value){var n={writingId:Date.now(),subject:s,writing:l.current.value,username:t.displayName};i.saveWriting(t.uid,s,n),u.current.reset(),o.push({pathname:"/mywriting"})}else alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694")},children:"\uc791\uc131\ud558\uae30"})})]})})]})},C=n(35),I=n.n(C),P=function(e){var t=e.subject,n=e.count,c=Object(j.f)();return Object(a.jsxs)("li",{className:I.a.item,onClick:function(e){e.preventDefault(),c.push({pathname:"/search/".concat(t),state:{subject:t}})},children:[t,Object(a.jsxs)("span",{className:I.a.count,children:[n," \uc500"]})]})},T=n(36),W=n.n(T),R=function(e){var t=e.authService,n=e.writingRepository,i=Object(c.useState)({}),r=Object(g.a)(i,2),s=r[0],o=r[1];return Object(c.useEffect)((function(){var e=n.getSubjects((function(e){o(e)}));return function(){return e()}}),[n]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N,{authService:t}),Object(a.jsx)("section",{className:W.a.container,children:Object(a.jsx)("ul",{className:W.a.list,children:s&&Object.entries(s).map((function(e){return Object(a.jsx)(P,{subject:e[0],count:Object.keys(e[1].users).length},e[1].subjectId)}))})})]})},F=n(14),D=n.n(F),M=n(47),L=function(e){var t=e.authService,n=e.writingRepository,i=Object(c.useState)({}),r=Object(g.a)(i,2),s=r[0],o=r[1],u=Object(j.f)();return Object(c.useEffect)((function(){var e=n.getWriting((function(e){o(e)}));return function(){return e()}}),[n]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N,{authService:t}),0!==Object.keys(s).length&&Object(a.jsxs)("section",{className:D.a.container,children:[Object(a.jsx)("h2",{className:D.a.subject,children:s.subject}),Object(a.jsx)("p",{className:D.a.writing,children:s.info.cover.writing}),Object(a.jsxs)("div",{className:D.a.writingInfo,children:[Object(a.jsx)("span",{className:D.a.writer,children:s.info.cover.writer}),Object(a.jsx)("span",{className:D.a.title,children:"<".concat(s.info.cover.title,">")})]}),Object(a.jsxs)("button",{className:D.a.button,children:[Object(a.jsx)(M.a,{className:D.a.buttonIcon}),Object(a.jsx)("span",{className:D.a.buttonText,onClick:function(e){e.preventDefault(),u.push({pathname:"/search/".concat(s.subject),state:{subject:s.subject}})},children:"\ub118\uaca8\uc11c \ubcf4\uae30"})]}),Object(a.jsx)("button",{className:D.a.write,onClick:function(e){e.preventDefault(),u.push({pathname:"/writepage/".concat(s.subject),state:{subject:s.subject}})},children:"\ub098\uc758 \uae00 \uc4f0\uae30"})]})]})},E=n(37),A=n.n(E),B=n(25),H=n.n(B),J=function(e){var t=e.subject,n=e.writingId,c=e.writing,i=e.username,r=e.onMove;return Object(a.jsxs)("div",{"data-id":n,className:H.a.content,onClick:r,children:[Object(a.jsx)("h3",{className:H.a.title,children:t}),Object(a.jsx)("p",{className:H.a.writing,children:c}),Object(a.jsx)("span",{className:H.a.writer,children:i})]})},G=function(e){var t=e.user,n=e.authService,i=e.writingRepository,r=Object(c.useState)([]),s=Object(g.a)(r,2),o=s[0],u=s[1],l=Object(j.f)(),b=function(e){e.preventDefault();var t=e.currentTarget.childNodes,n=t[0].innerText,a=t[1].innerHTML;l.push({pathname:"/mywritingpage",state:{subject:n,writing:a}})};return Object(c.useEffect)((function(){i.getMyWriting(t.uid,(function(e){u(e)}))}),[i,t]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N,{authService:n}),Object(a.jsx)("div",{className:A.a.container,children:0!==Object.keys(o).length?o.map((function(e){return Object(a.jsx)(J,{subject:e[1].subject,writingId:e[0],writing:e[1].writing,username:e[1].username,onMove:b},e[1].writingId)})):Object(a.jsx)("div",{className:A.a.noWriting,children:"\uc791\uc131\ud55c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})})]})},Q=n(16),z=n.n(Q),U=function(e){var t=e.authService,n=e.writingRepository,i=Object(j.f)().location.state,r=i&&i.subject,s=Object(j.f)(),o=Object(c.useState)({}),u=Object(g.a)(o,2),l=u[0],b=u[1],h=function(e){e.preventDefault();var t=e.currentTarget.childNodes[0].innerHTML,n=e.currentTarget.childNodes[1].innerHTML,a=e.currentTarget.childNodes[2].innerHTML,c=e.currentTarget.dataset.id;s.push({pathname:"/writingPage",state:{subject:t,writing:n,username:a,writingId:c}})};return Object(c.useEffect)((function(){var e=n.getSearch(r,(function(e){b(e)}));return function(){return e()}}),[n,r]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N,{authService:t}),Object(a.jsx)("div",{className:z.a.container,children:0===Object.keys(l).length?Object(a.jsx)("div",{className:z.a.noResults,children:"\uc791\uc131\ud55c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{className:z.a.subject,children:l.subject}),Object(a.jsx)("p",{className:z.a.writing,children:l.cover.writing}),Object(a.jsxs)("div",{className:z.a.writingInfo,children:[Object(a.jsx)("span",{className:z.a.writer,children:l.cover.writer}),Object(a.jsx)("span",{className:z.a.title,children:"<".concat(l.cover.title,">")})]}),Object(a.jsx)("button",{className:z.a.write,onClick:function(e){e.preventDefault(),s.push({pathname:"/writepage/".concat(r),state:{subject:r}})},children:"\ub098\uc758 \uae00 \uc4f0\uae30"}),Object.entries(l.users).map((function(e){return Object(a.jsx)(J,{subject:e[1].subject,writingId:e[1].writingId,writing:e[1].writing,username:e[1].username,onMove:h},e[1].writingId)}))]})})]})},V=n(17),q=n.n(V),K=function(e){var t=e.user,n=e.authService,c=e.writingRepository,i=Object(j.f)().location.state,r=Object(j.f)(),s=i&&i.subject,o=i&&i.writing,u=i&&i.username,l=i&&i.writingId;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N,{authService:n}),Object(a.jsx)("div",{className:q.a.wrapper,children:Object(a.jsxs)("div",{className:q.a.container,children:[Object(a.jsx)("span",{className:q.a.title,children:s}),Object(a.jsx)("div",{className:q.a.content,children:o}),Object(a.jsxs)("div",{className:q.a.buttonContainer,children:[Object(a.jsxs)("div",{className:q.a.username,children:[u,"\uc758 \uae00"]}),Object(a.jsx)("button",{className:q.a.button,onClick:function(e){e.preventDefault();var n={subject:s,username:u,writing:o,date:Date.now()};c.addToFavorite(t.uid,l,n),console.log("\ub2f4\uc544\uac00\uae30"),r.push({pathname:"/favorite"})},children:"\ub2f4\uc544\uac00\uae30"})]})]})})]})},X=n(38),Z=n.n(X),Y=n(48),$=n(39),ee=n.n($),te=function(e){var t=e.user,n=e.authService,i=e.writingRepository,r=Object(c.useState)([]),s=Object(g.a)(r,2),o=s[0],u=s[1],l=Object(j.f)(),b=function(e){e.preventDefault();var t=e.currentTarget.childNodes[0].innerHTML,n=e.currentTarget.childNodes[1].innerHTML,a=e.currentTarget.childNodes[2].innerHTML,c=e.currentTarget.dataset.id;l.push({pathname:"/favoritePage/".concat(t),state:{subject:t,writing:n,username:a,writingId:c}})};return Object(c.useEffect)((function(){var e=i.getFavorite(t.uid,function(){var e=Object(Y.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){return e()}}),[i,t]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N,{authService:n}),Object(a.jsx)("div",{className:ee.a.container,children:0!==Object.keys(o).length?o.map((function(e){return Object(a.jsx)(J,{subject:e[1].subject,writingId:e[0],writing:e[1].writing,username:e[1].username,onMove:b},e[1].date)})):Object(a.jsx)("div",{className:ee.a.noWriting,children:"\ub2f4\uc544\uc628 \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})})]})},ne=n(18),ae=n.n(ne),ce=function(e){var t=e.user,n=e.authService,c=e.writingRepository,i=Object(j.f)().location.state,r=Object(j.f)(),s=i&&i.subject,o=i&&i.writing,u=i&&i.username,l=i&&i.writingId;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N,{authService:n}),Object(a.jsx)("div",{className:ae.a.wrapper,children:Object(a.jsxs)("div",{className:ae.a.container,children:[Object(a.jsx)("span",{className:ae.a.title,children:s}),Object(a.jsx)("div",{className:ae.a.content,children:o}),Object(a.jsxs)("div",{className:ae.a.buttonContainer,children:[Object(a.jsxs)("div",{className:ae.a.username,children:[u,"\uc758 \uae00"]}),Object(a.jsx)("button",{className:ae.a.button,onClick:function(e){e.preventDefault(),c.removeToFavorite(t.uid,l),console.log("remove writingId: ",l),r.push({pathname:"/favorite"})},children:"\uc0ad\uc81c\ud558\uae30"})]})]})})]})},ie=n(19),re=n.n(ie),se=function(e){var t=e.user,n=e.authService,i=e.writingRepository,r=Object(j.f)().location.state,s=r&&r.subject,o=Object(c.useState)(r?r.writing:""),u=Object(g.a)(o,2),l=u[0],b=u[1],h=Object(j.f)(),f=Object(c.useRef)(),d=Object(c.useRef)();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N,{authService:n}),Object(a.jsx)("section",{className:re.a.container,children:Object(a.jsxs)("form",{ref:f,className:re.a.form,children:[Object(a.jsx)("span",{className:re.a.title,children:s}),Object(a.jsx)("textarea",{autoFocus:!0,ref:d,className:re.a.content,minLength:"1",placeholder:"\ub2f9\uc2e0\uc758 \uc0dd\uac01\uc744 \ub4e4\ub824\uc8fc\uc138\uc694",value:l,onChange:function(e){b(e.currentTarget.value)},children:l}),Object(a.jsx)("div",{className:re.a.buttonContainer,children:Object(a.jsxs)("div",{className:"buttonContainer",children:[Object(a.jsx)("button",{className:re.a.button,onClick:function(e){e.preventDefault(),i.deleteWriting(t.uid,s),h.push({pathname:"/mywriting"})},children:"\uc0ad\uc81c\ud558\uae30"}),Object(a.jsx)("button",{className:re.a.button,onClick:function(e){if(e.preventDefault(),""!==d.current.value){var n={writingId:Date.now(),subject:s,writing:d.current.value,username:t.displayName};i.saveWriting(t.uid,s,n),f.current.reset(),h.push({pathname:"/mywriting"})}else alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694")},children:"\uc218\uc815\ud558\uae30"})]})})]})})]})};function oe(e,t,n){return function(){var i=Object(j.f)(),r=Object(c.useState)(""),s=Object(g.a)(r,2),o=s[0],u=s[1];return Object(c.useEffect)((function(){t.onAuthChange((function(e){e?u(e):i.push("/")}))}),[i]),o&&Object(a.jsx)(e,{user:o,authService:t,writingRepository:n})}}var ue=function(e){var t=e.authService,n=e.writingRepository;return Object(a.jsx)("div",{className:u.a.app,children:Object(a.jsx)(f.a,{basename:"/react-firebase-write-app",children:Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{exact:!0,path:"/",children:Object(a.jsx)(h,{authService:t})}),Object(a.jsx)(j.a,{exact:!0,path:"/writing",component:oe(L,t,n)}),Object(a.jsx)(j.a,{exact:!0,path:"/writepage/:subject",component:oe(S,t,n)}),Object(a.jsx)(j.a,{exact:!0,path:"/subjects",component:oe(R,t,n)}),Object(a.jsx)(j.a,{exact:!0,path:"/mywriting",component:oe(G,t,n)}),Object(a.jsx)(j.a,{exact:!0,path:"/mywritingpage",component:oe(se,t,n)}),Object(a.jsx)(j.a,{exact:!0,path:"/search/:subject",component:oe(U,t,n)}),Object(a.jsx)(j.a,{exact:!0,path:"/writingPage",component:oe(K,t,n)}),Object(a.jsx)(j.a,{exact:!0,path:"/favorite",component:oe(te,t,n)}),Object(a.jsx)(j.a,{exact:!0,path:"/favoritePage/:subject",component:oe(ce,t,n)})]})})})},je=n(26),le=n(27),be=n(29),he=(n(60),n(62),be.a.initializeApp({apiKey:"AIzaSyAJqEwFIKJybpp84E82W7QBa3B1QJDVl1U",authDomain:"write-98975.firebaseapp.com",databaseURL:"https://write-98975.firebaseio.com",projectId:"write-98975"})),fe=he.auth(),ge=he.database(),de=new be.a.auth.GoogleAuthProvider,_e=new be.a.auth.GithubAuthProvider,me=function(){function e(){Object(je.a)(this,e)}return Object(le.a)(e,[{key:"login",value:function(e){var t=this.getProvider(e);return fe.signInWithPopup(t)}},{key:"logout",value:function(){fe.signOut()}},{key:"onAuthChange",value:function(e){fe.onAuthStateChanged((function(t){e(t)}))}},{key:"getProvider",value:function(e){switch(e){case"Google":return de;case"Github":return _e;default:throw new Error}}}]),e}(),Oe=function(){function e(){Object(je.a)(this,e)}return Object(le.a)(e,[{key:"getSubjects",value:function(e){var t=ge.ref("subjects");return t.once("value",(function(t){var n=t.val();n&&e(n)})),function(){return t.off()}}},{key:"getWriting",value:function(e){var t=ge.ref("subjects");return t.once("value",(function(t){var n=t.val(),a=parseInt(Math.random()*Object.keys(n).length),c=Object.entries(n)[a];n&&e({subject:c[0],info:c[1]})})),function(){return t.off()}}},{key:"saveWriting",value:function(e,t,n){ge.ref("subjects/".concat(t,"/users/").concat(e)).set(n),ge.ref("users/".concat(e,"/subjects/").concat(t)).set(n)}},{key:"deleteWriting",value:function(e,t){ge.ref("subjects/".concat(t,"/users/").concat(e)).remove(),ge.ref("users/".concat(e,"/subjects/").concat(t)).remove()}},{key:"getMyWriting",value:function(e,t){var n=ge.ref("users/".concat(e,"/subjects"));return n.orderByChild("writingId").once("value",(function(e){var n=e.val();if(null===n)t({});else{var a=Object.entries(n).sort((function(e,t){return t[1].writingId-e[1].writingId}));a&&t(a)}})),function(){return n.off()}}},{key:"getSearch",value:function(e,t){var n=ge.ref("subjects/".concat(e));return n.once("value",(function(n){var a=n.val();t(a?{cover:a.cover,users:a.users,subject:e}:{})})),function(){return n.off()}}},{key:"getFavorite",value:function(e,t){var n=ge.ref("users/".concat(e,"/favorite"));return n.orderByChild("writingId").once("value",(function(e){var n=e.val();if(null===n)t({});else{var a=Object.entries(n).sort((function(e,t){return t[1].date-e[1].date}));console.log("orderedValue: ",a),a&&t(a)}})),function(){return n.off()}}},{key:"addToFavorite",value:function(e,t,n){ge.ref("users/".concat(e,"/favorite/").concat(t)).set(n)}},{key:"removeToFavorite",value:function(e,t){ge.ref("users/".concat(e,"/favorite/").concat(t)).remove()}}]),e}(),ve=new me,pe=new Oe;s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(ue,{authService:ve,writingRepository:pe})}),document.getElementById("root"))},9:function(e,t,n){e.exports={sidebar:"sidebar_sidebar__DMJ16",on:"sidebar_on__2Mm_n",closeContainer:"sidebar_closeContainer__oaqUB",menu:"sidebar_menu__2iKhl",list:"sidebar_list__3K-aD",item:"sidebar_item___QUG-",info:"sidebar_info__5aScc",searchBox:"sidebar_searchBox__RUTES",search:"sidebar_search__T8IhZ",searchInput:"sidebar_searchInput___Dcdl"}}},[[66,1,2]]]);
//# sourceMappingURL=main.eb518a62.chunk.js.map